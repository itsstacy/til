실시간 채팅
node팀과 같이 작업을 하게 되었는데 이번에 새로운 기능으로 실시간 채팅에 도전하게 됐다. 
라이브러리는 socket.io를 사용했는데 백엔드와 함께 테스팅 해보면서 만드는 과정이 재밌었다. 

실시간 채팅 구현 중 발생한 에러
socket.io 공식 사이트에서 실시간 채팅의 동작원리와 사용법을 숙지한 다음 샘플코드를 리뷰/테스트 한 다음 내 코드에
적용시켜보는 방식으로 진행했다. 여기서 에러가 발생했는데, 상대방이 보낸 메세지가 여러개 찍히는 현상이었다. 
이 점은 결국 dependency 관련 문제로 밝혀졌다. 

에러를 고치는 과정에서 내가 잘못 생각했던 점
1. 리액트는 워낙 자율성(?)이 높고 같은 기능을 구현하는 방법이 여러가지라서 테스트 코드를 보고 이해하고나서 잘 
가져왔다고 생각해도, 막상 내 프로젝트로 가져오면 그 context내에서 구동이 안되는 경우가 많은 것 같다. 결국 
dependency 문제를 한참 후에야 깨닫게 된 이유도 테스트 환경에서 잘 돌아갔던 코드에 대한 잘못된 확신 때문이었다. 

2. socket의 특성을 잘 이해하지 못했던 점이다. 작업할 때 web socket이 잘 연결이 된 걸 항상 체크하는게 선행되어야 했고 테스트할 때 여러개의 브라우저를 켜놓거나 하면 소켓이 두번이상 작동될수도있다는 점을 숙지하지 못했다. 그리고 같은 브라우저에서 테스트를 하면 하나의 소켓만 작동이 된다는 것도 이번에 처음 알았다. 결국 양방향 통신이 가능하려면 두쪽 모두 소켓연결이 되어있어야 하는데 이 점도 제대로 이해를 못한 채로 테스트를 해본 것이다.